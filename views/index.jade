extends layout

block body
  div.container(ng-controller='ChatCtrl')
    .login(ng-show='loginScreen')
      .login-form
        h3 Podaj swój nick
        form(ng-submit='logIn()')
          .row
            input.col.span_12#loginField(placeholder='Jak chcesz się nazywać?',ng-model='name',name='loginName')
          .row
            input.col.span_1#loginRegistered(type='checkbox',ng-model='loginRegistered',ng-change='loginRegisteredChange()')
            label.col.span_10(for='loginRegistered') Jestem zarejestrowany
          .row(ng-show='loginRegistered')
            input.col.span_12#loginPasswordField(type='password',placeholder='Wprowadź hasło',ng-model='loginPassword')
          .row
            input.col.span_6(type='submit', value='Wejdź')
            input.col.span_6(type='button', value='Zarejestruj się')
    .row
      form(ng-submit='sendMessage()')
        .col.span_8 
          input(class='message-input',ng-model='message')
        .col.span_1
          input(class='message-send',type='submit', value='Send')
        .col.span_3
    .row
      .col.span_9
        .overflowable.messages
          div.message(ng-repeat='msg in messages | reverse')
            time {{msg.timeStamp}}
            p
              span.username(ng-if="msg.type != 'server' ") {{msg.user.name}}: 
              | {{msg.txt}}
      .col.span_3
        .overflowable.users
          div.user(ng-repeat='u in users')
            p
              a {{u.name}}
    //-
      .row
        .col.span_12
          h3 Change your name
          p Your current user name is {{name}}
          form(ng-submit='changeName()')
            input(ng-model='newName')
            input(type='submit', value='Change Name')

  script(src='/socket.io/socket.io.js')
  script(src='/bower_components/angular/angular.js')
  script(src='/bower_components/angular-socket-io/socket.js')
  script(src='/js/chat.js')
  script(src='/js/services.js')
  script(src='/js/controllers.js')
  script(src='/js/filters.js')
  script(src='/js/directives.js')